{"version":3,"sources":["variables.js","index.js"],"names":["topLevelFrameBlocks","UIStrings","ru","invoiceString","phoneString","searchButtonString","clearButtonString","routeString","weightString","placesString","statusString","requestString","yesString","noString","returnString","redirectString","headerString","footerString","resultString","ua","url","requestOptions","mode","cache","redirect","method","freshnessTime","appVersion","renderSemanticBlock","block","renderHeader","lang","window","appState","document","querySelector","innerHTML","styles","lang_choose","lang_choose__btn","changeLanguage","event","target","dataset","renderApp","focus","renderFooter","getTrackingData","documentsForRender","requestedDocuments","preventDefault","length","requestTemplate","modelName","calledMethod","methodProperties","Language","documentsForDownload","forEach","checkLocalStorage","requestedItem","index","localStorage","getItem","DocumentNumber","JSON","parse","requestTime","Date","push","renderResults","Documents","body","stringify","fetch","then","response","json","result","manageResults","data","catch","err","console","error","downloadedResults","shift","setItem","Number","resultsData","trackingResultFields","Array","from","querySelectorAll","tracking_result","item","prepareResultString","resultItem","tracking_result__wrapper","tracking_result__caption","tracking_result__text","CitySender","CityRecipient","DocumentWeight","SeatsAmount","Status","PossibilityCreateReturn","request_action","PossibilityCreateRedirecting","resetForm","request_set","requestSet","remove","value","renderMain","tracking_form","renderRequestSets","request_submit","updateFormState","requestSets","prepareDocuments","requestItem","Phone","renderRequestSet","map","join","invoiceNumber","phoneNumber","request_item","request_add_set","request_remove_set","addRequestSet","parentNode","insertAdjacentHTML","removeRequestSet","topLevelFrameString","reduce","renderString","setAttribute"],"mappings":"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","file":"framework_task.e66b2b34.js","sourceRoot":"..","sourcesContent":["export const topLevelFrameBlocks = ['header', 'main', 'footer'];\n\nexport const UIStrings = {\n  ru: {\n    invoiceString: 'Введите номер квитанции',\n    phoneString: 'Введите номер телефона',\n    searchButtonString: 'Искать',\n    clearButtonString: 'Очистить',\n    routeString: 'Маршрут',\n    weightString: 'Вес, кг',\n    placesString: 'Мест',\n    statusString: 'Текущий статус',\n    requestString: 'Заказать',\n    yesString: 'да',\n    noString: 'нет',\n    returnString: 'Можно вернуть',\n    redirectString: 'Можно переслать',\n    headerString: 'Трекинг посылок Новой почты',\n    footerString: 'Версия',\n    resultString: 'Результат',\n  },\n  ua: {\n    invoiceString: 'Введіть номер квитанції',\n    phoneString: 'Введіть номер телефону',\n    searchButtonString: 'Шукати',\n    clearButtonString: 'Очистити',\n    routeString: 'Маршрут',\n    weightString: 'Вага, кг',\n    placesString: 'Місць',\n    statusString: 'Поточний статус',\n    requestString: 'Замовити',\n    yesString: 'так',\n    noString: 'ні',\n    returnString: 'Можна повернути',\n    redirectString: 'Можна переслати',\n    headerString: 'Трекінг посилок Нової пошти',\n    footerString: 'Версія',\n    resultString: 'Результат',\n  },\n};\n\nexport const url = 'https://api.novaposhta.ua/v2.0/json/';\n\nexport const requestOptions = {\n  // contentType: 'application/json',\n  mode: 'cors',\n  cache: 'no-cache',\n  redirect: 'follow',\n  method: 'POST',\n  // dataType: 'jsonp',\n};\n\nexport const freshnessTime = 18000000;\nexport const appVersion = '1.4';\n","import {\n  topLevelFrameBlocks,\n  UIStrings,\n  requestOptions,\n  url,\n  freshnessTime,\n  appVersion,\n} from './variables.js';\n\nimport styles from './style';\n\n// console.log(process.env.API_KEY);\n\nwindow.appState = {\n  lang: 'ru',\n  documentsForRender: [],\n  requestedDocuments: [],\n};\n\nfunction renderSemanticBlock(block) {\n  return `<${block}></${block}>`;\n}\n\nfunction renderHeader(lang = window.appState.lang) {\n  document.querySelector('header').innerHTML = `<h1>${UIStrings[lang].headerString}</h1>\n  <div class=${styles.lang_choose}>\n    <button class=${styles.lang_choose__btn} data-lang=\"ru\" onclick=\"changeLanguage(event)\"></button>\n    <button class=${styles.lang_choose__btn} data-lang=\"ua\" onclick=\"changeLanguage(event)\"></button>\n  </div>`;\n}\n\nfunction changeLanguage(event, lang = window.appState.lang) {\n  if (lang == event.target.dataset.lang) {\n    return;\n  } else {\n    window.appState.lang = event.target.dataset.lang;\n    renderApp();\n    document\n      .querySelector(`.${styles.lang_choose__btn}[data-lang=${window.appState.lang}]`)\n      .focus();\n  }\n}\n\nfunction renderFooter(lang = window.appState.lang) {\n  document.querySelector('footer').innerHTML = `${UIStrings[lang].footerString} ${appVersion}`;\n}\n\nfunction getTrackingData(\n  event,\n  lang = window.appState.lang,\n  documentsForRender = window.appState.documentsForRender,\n  requestedDocuments = window.appState.requestedDocuments,\n) {\n  event.preventDefault();\n  documentsForRender.length = 0;\n\n  const requestTemplate = {\n    modelName: 'TrackingDocument',\n    calledMethod: 'getStatusDocuments',\n    methodProperties: {\n      Language: lang,\n    },\n  };\n\n  const documentsForDownload = [];\n  requestedDocuments.forEach(checkLocalStorage);\n\n  function checkLocalStorage(requestedItem, index) {\n    if (\n      localStorage.getItem(requestedItem.DocumentNumber) &&\n      JSON.parse(localStorage.getItem(requestedItem.DocumentNumber)).requestTime >\n        new Date() - freshnessTime\n    ) {\n      documentsForRender[index] = JSON.parse(localStorage.getItem(requestedItem.DocumentNumber));\n    } else {\n      documentsForDownload.push(requestedItem);\n      documentsForRender[index] = 'gotToBeDownloaded';\n    }\n  }\n\n  if (documentsForDownload.length == 0) {\n    renderResults(documentsForRender);\n  } else {\n    requestTemplate.methodProperties.Documents = documentsForDownload;\n    requestOptions.body = JSON.stringify(requestTemplate);\n\n    fetch(url, requestOptions)\n      .then(response => {\n        return response.json();\n      })\n      .then(result => {\n        manageResults(result.data, documentsForRender);\n      })\n      .catch(err => {\n        console.error('there was some error:', err);\n      });\n  }\n}\n\n// storing downloaded data to local storage and preparing data for render results\nfunction manageResults(downloadedResults, documentsForRender) {\n  documentsForRender.forEach((result, index) => {\n    if (result == 'gotToBeDownloaded') {\n      result = downloadedResults.shift();\n      result.requestTime = +new Date();\n      localStorage.setItem(result.Number, JSON.stringify(result));\n      documentsForRender[index] = result;\n    }\n  });\n  renderResults(documentsForRender);\n}\n\nfunction renderResults(\n  resultsData = window.appState.documentsForRender,\n  lang = window.appState.lang,\n) {\n  const trackingResultFields = Array.from(document.querySelectorAll(`.${styles.tracking_result}`));\n  resultsData.forEach((item, index) => {\n    trackingResultFields[index].innerHTML = prepareResultString(item);\n  });\n\n  function prepareResultString(resultItem) {\n    return `<h2>${UIStrings[lang].resultString}:</h2>\n  <div class=${styles.tracking_result__wrapper}>\n    <div class=${styles.tracking_result__caption}>${UIStrings[lang].routeString}:</div>\n    <div class=${styles.tracking_result__text}>${resultItem.CitySender}-${\n      resultItem.CityRecipient\n    }</div>\n    <div class=${styles.tracking_result__caption}>${UIStrings[lang].weightString}:</div>\n    <div class=${styles.tracking_result__text}>${resultItem.DocumentWeight}</div>\n    <div class=${styles.tracking_result__caption}>${UIStrings[lang].placesString}:</div>\n    <div class=${styles.tracking_result__text}>${resultItem.SeatsAmount}</div>\n    <div class=${styles.tracking_result__caption}>${UIStrings[lang].statusString}:</div>\n    <div class=${styles.tracking_result__text}>${resultItem.Status}</div>\n    <div class=${styles.tracking_result__caption}>${UIStrings[lang].returnString}:</div>\n    <div class=${styles.tracking_result__text}>${\n      resultItem.PossibilityCreateReturn ? UIStrings[lang].yesString : UIStrings[lang].noString\n    }<input type=\"button\" class=${styles.request_action} disabled value=\"${\n      UIStrings[lang].requestString\n    }\"/></div>\n    <div class=${styles.tracking_result__caption}>${UIStrings[lang].redirectString}:</div>\n    <div class=${styles.tracking_result__text}>${\n      resultItem.PossibilityCreateRedirecting ? UIStrings[lang].yesString : UIStrings[lang].noString\n    }<input type=\"button\" class=${styles.request_action} disabled value=\"${\n      UIStrings[lang].requestString\n    }\"/></div>\n  </div>`;\n  }\n}\n\nfunction resetForm(\n  documentsForRender = window.appState.documentsForRender,\n  requestedDocuments = window.appState.requestedDocuments,\n) {\n  const requestSets = Array.from(document.querySelectorAll(`.${styles.request_set}`));\n  requestSets.forEach((requestSet, index) => {\n    if (index > 0) {\n      requestSet.remove();\n    } else {\n      requestSet.querySelector('input[name = invoice_number]').value = '';\n      requestSet.querySelector('input[name = phone_number]').value = '';\n      requestSet.querySelector(`.${styles.tracking_result}`).innerHTML = '';\n    }\n  });\n  documentsForRender.length = 0;\n  requestedDocuments.length = 0;\n}\n\nfunction renderMain(\n  lang = window.appState.lang,\n  documentsForRender = window.appState.documentsForRender,\n) {\n  document.querySelector('main').innerHTML = `\n  <div class=${styles.tracking_form}>\n    <form name=\"request_form\" autocomplete=\"off\" onsubmit=\"getTrackingData(event)\" oninput=\"updateFormState(event)\">\n    ${renderRequestSets()}\n      <input type=\"submit\" value=\"${UIStrings[lang].searchButtonString}\" class=${\n    styles.request_submit\n  } />\n      <input type=\"button\" value=\"${UIStrings[lang].clearButtonString}\" class=${\n    styles.request_submit\n  } onclick=\"resetForm()\" />\n    </form>\n  </div>`;\n  if (documentsForRender.length != 0) {\n    renderResults();\n  }\n}\n\nfunction updateFormState(event, requestedDocuments = window.appState.requestedDocuments) {\n  const requestSets = Array.from(document.querySelectorAll(`.${styles.request_set}`));\n  requestedDocuments.length = 0;\n  requestSets.forEach(prepareDocuments);\n\n  function prepareDocuments(requestItem) {\n    requestedDocuments.push({\n      DocumentNumber: requestItem.querySelector('input[name = invoice_number]').value,\n      Phone: requestItem.querySelector('input[name = phone_number]').value,\n    });\n  }\n}\n\nfunction renderRequestSets(requestedDocuments = window.appState.requestedDocuments) {\n  if (requestedDocuments.length == 0) {\n    return renderRequestSet();\n  } else {\n    return requestedDocuments\n      .map(item => {\n        return renderRequestSet(item.DocumentNumber, item.Phone);\n      })\n      .join('');\n  }\n}\n\nfunction renderRequestSet(invoiceNumber = '', phoneNumber = '', lang = window.appState.lang) {\n  return `<div class=${styles.request_set}>\n            <div class=${styles.request_item}>\n              <input type=\"text\" name=\"invoice_number\" value=\"${invoiceNumber}\" placeholder=\" \" required/>\n              <label for=\"invoice_number\">${UIStrings[lang].invoiceString}</label>\n            </div>\n            <div class=${styles.request_item}>\n              <input type=\"text\" name=\"phone_number\" value=\"${phoneNumber}\" pattern=\"[0-9]{0,10}\" placeholder=\" \"/>\n              <label for=\"phone_number\">${UIStrings[lang].phoneString}</label>\n            </div>\n            <input type=\"button\" class=${styles.request_add_set} onclick=\"addRequestSet(event)\" value=\"+\"/>\n            <input type=\"button\" class=${styles.request_remove_set} onclick=\"removeRequestSet(event)\" value=\"-\"/>\n            <div class=${styles.tracking_result}></div>\n          </div>`;\n}\n\nfunction addRequestSet(event) {\n  event.target.parentNode.insertAdjacentHTML('afterend', `${renderRequestSet()}`);\n}\n\nfunction removeRequestSet() {\n  event.target.parentNode.remove();\n}\n\nwindow.addRequestSet = addRequestSet;\nwindow.removeRequestSet = removeRequestSet;\nwindow.getTrackingData = getTrackingData;\nwindow.resetForm = resetForm;\nwindow.changeLanguage = changeLanguage;\nwindow.updateFormState = updateFormState;\n\n// preparing semantic HTML structure for app\nlet topLevelFrameString = topLevelFrameBlocks.reduce(\n  (renderString, item) => (renderString += renderSemanticBlock(item)),\n  '',\n);\ndocument.body.insertAdjacentHTML('afterbegin', topLevelFrameString);\nrenderApp();\n\nfunction renderApp(lang = window.appState.lang) {\n  document.querySelector('HTML').setAttribute('lang', lang);\n  renderHeader();\n  renderMain();\n  renderFooter();\n}\n"]}